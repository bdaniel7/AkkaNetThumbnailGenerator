---
layout: post
title: "NuGet Package Source Discovery"
date: 2013-03-18 19:45:00 +0100
comments: true
published: true
categories: ["post"]
tags: ["ASP.NET", "CSharp", "General", "NuGet", "Personal", "Projects", "Software"]
alias: ["/post/2013/03/18/NuGet-Package-Source-Discovery.aspx", "/post/2013/03/18/nuget-package-source-discovery.aspx"]
author: Maarten Balliauw
redirect_from:
 - /post/2013/03/18/NuGet-Package-Source-Discovery.aspx.html
 - /post/2013/03/18/nuget-package-source-discovery.aspx.html
---
<p>It&rsquo;s already been 2 years since <a href="http://www.nuget.org">NuGet</a> was introduced. This.NET package manager features the concept of feeds, or &ldquo;package sources&rdquo;, on which packages containing .NET libraries and tools can be hosted. In fact, support for feeds inspired us to build <a href="http://www.myget.org">www.myget.org</a>. While not all people are aware of this, Microsoft started out with two feeds as well: one for <a href="http://www.nuget.org">www.nuget.org</a>, the other one for the Orchard CMS.</p>
<p>More and more feeds are being created daily, both by Microsoft as well as others. Here&rsquo;s a list of feeds Microsoft has that I know of (there are probably more):</p>
<ul>
<li><a title="https://www.nuget.org/api/v2/" href="https://www.nuget.org/api/v2/">https://www.nuget.org/api/v2/</a>, the official NuGet gallery feed</li>
<li><a title="https://nuget.org/api/v2/curated-feeds/windows8-packages" href="https://nuget.org/api/v2/curated-feeds/windows8-packages">https://nuget.org/api/v2/curated-feeds/windows8-packages</a>, containing Windows 8 packages</li>
<li><a title="http://packages.orchardproject.net/FeedService.svc" href="http://packages.orchardproject.net/FeedService.svc">http://packages.orchardproject.net/FeedService.svc</a> where Orchard packages live</li>
<li><a title="http://extensions.webmatrix.com/api/feeds/" href="http://extensions.webmatrix.com/api/feeds/">http://extensions.webmatrix.com/api/feeds/</a> contains packages for WebMatrix</li>
</ul>
<p>Wouldn&rsquo;t it be nice if we could add them all to our Visual Studio package sources without having to know these URL&rsquo;s? Meet the <em><a href="http://psd.myget.org/">NuGet Package Source Discovery</a> </em>specification, or in short: PSD, a specification <a href="http://www.xavierdecoster.com">Xavier</a>, <a href="http://www.hanselman.com">Scott</a>, <a href="http://www.haacked.com">Phil</a>,&nbsp;<a href="http://jeffhandley.com/">Jeff</a>, <a href="http://codebetter.com/howarddierking/">Howard</a>&nbsp;and myself have been working on (thanks guys!)</p>
<h2>Package Source Discovery</h2>
<p>Because PowerShell says more than words, try the following. Open Visual Studio and open any solution. Then issue the following in the Package Manager Console:</p>
<div id="scid:9D7513F9-C04C-4721-824A-2B34F0212519:c97cc545-50b8-4610-92c5-1834d9ae9646" class="wlWriterEditableSmartContent" style="float: none; margin: 0px; display: inline; padding: 0px;">
<pre style="width: 687px; height: 35px; background-color: white; overflow: auto;"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">1</span> <span style="color: #000000;">Install</span><span style="color: #000000;">-</span><span style="color: #000000;">Package DiscoverPackageSources
</span><span style="color: #008080;">2</span> <span style="color: #000000;">Discover</span><span style="color: #000000;">-</span><span style="color: #000000;">PackageSources </span><span style="color: #000000;">-</span><span style="color: #000000;">Url </span><span style="color: #800000;">"</span><span style="color: #800000;"></span><span style="color: #800000;">"</span></div></pre>
<!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>While we&rsquo;re at it, perhaps the Glimpse project has something to discover as well.</p>
<div id="scid:9D7513F9-C04C-4721-824A-2B34F0212519:e27ff413-cffe-4c88-bf03-b21a8b07ae2c" class="wlWriterEditableSmartContent" style="float: none; margin: 0px; display: inline; padding: 0px;">
<pre style="width: 687px; height: 25px; background-color: white; overflow: auto;"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">1</span> <span style="color: #000000;">Discover</span><span style="color: #000000;">-</span><span style="color: #000000;">PackageSources </span><span style="color: #000000;">-</span><span style="color: #000000;">Url </span><span style="color: #800000;">"</span><span style="color: #800000;">http://getglimpse.com</span><span style="color: #800000;">"</span></div></pre>
<!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>Close and re-open Visual Studio and check your package sources. Notice anything new? My blog has provided you with 2 feeds. And you&rsquo;ve also been subscribed to Glimpse&rsquo;s nightly builds feed.</p>
<p>But there&rsquo;s more. If you would have been authenticated when connecting to my blog, it will yield API keys as well. This allows the PSD client to setup everything that is needed for me to work with my personal feeds, both consuming and producing, by just remembering the URL of my blog.</p>
<p><strong>Package Source Discovery boils down to trust. </strong>Since you apparently trust me, you can discover feeds from my blog. If you trust Microsoft, discover feeds from <a href="http://www.microsoft.com">www.microsoft.com</a>. Do you trust Windows Azure? Get their packages by discovering feeds at <a href="http://www.windowsazure.com">www.windowsazure.com</a>. Need your company feeds? Discover them at <a href="http://nuget">http://nuget</a>. A lot of options and possibilities there!</p>
<h2>Recycling standards</h2>
<p>If you are a blogger and are using Windows Live Writer, you&rsquo;ve already used this before. We&rsquo;ve written the <a href="http://psd.myget.org/">NuGet Package Source Discovery</a> specification based on what happens with blogs: when a simple <em>&lt;link /&gt;</em> element is added to your HTML, you are compatible with feed discovery. Here are the two elements that are listed in the source code for my blog:</p>
<div id="scid:9D7513F9-C04C-4721-824A-2B34F0212519:c24e495f-2b41-4736-b915-9795e8b88386" class="wlWriterEditableSmartContent" style="float: none; margin: 0px; display: inline; padding: 0px;">
<pre style="width: 687px; height: 71px; background-color: white; overflow: auto;"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">1</span> <span style="color: #000000;">&lt;link rel</span><span style="color: #000000;">=</span><span style="color: #800000;">"</span><span style="color: #800000;">nuget</span><span style="color: #800000;">"</span><span style="color: #000000;"> type</span><span style="color: #000000;">=</span><span style="color: #800000;">"</span><span style="color: #800000;">application/atom+xml</span><span style="color: #800000;">"</span><span style="color: #000000;"> title</span><span style="color: #000000;">=</span><span style="color: #800000;">"</span><span style="color: #800000;">Maarten Balliauw NuGet feed</span><span style="color: #800000;">"</span><span style="color: #000000;"> href</span><span style="color: #000000;">=</span><span style="color: #800000;">"</span><span style="color: #800000;">http://www.myget.org/F/maartenballiauw</span><span style="color: #800000;">"</span><span style="color: #000000;"> </span><span style="color: #000000;">/&gt;</span><span style="color: #000000;">
</span><span style="color: #008080;">2</span> <span style="color: #000000;">&lt;link rel</span><span style="color: #000000;">=</span><span style="color: #800000;">"</span><span style="color: #800000;">nuget</span><span style="color: #800000;">"</span><span style="color: #000000;"> type</span><span style="color: #000000;">=</span><span style="color: #800000;">"</span><span style="color: #800000;">application/rsd+xml</span><span style="color: #800000;">"</span><span style="color: #000000;"> href</span><span style="color: #000000;">=</span><span style="color: #800000;">"</span><span style="color: #800000;">http://www.myget.org/Discovery/Feed/googleanalyticstracker</span><span style="color: #800000;">"</span><span style="color: #000000;"> </span><span style="color: #000000;">/&gt;</span></div></pre>
<!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>The first one points directly to a feed. Using the URL and the title attribute, we can add this one to our NuGet package sources with ease. The second one points to an RSD file, known since ages as the <strong>Really Simple Discovery</strong> format described on <a href="https://github.com/danielberlinger/rsd">https://github.com/danielberlinger/rsd</a>. We&rsquo;ve recycled it to allow a lot of things at the client side. Since not all required metadata can be obtained from the RSD format, the <a href="http://dublincore.org/documents/2012/06/14/dcmi-terms/?v=elements">Dublin Core schema</a> is present in the PSD response as well.</p>
<p>Here&rsquo;s an an example:</p>
<div id="scid:9D7513F9-C04C-4721-824A-2B34F0212519:7fbebb01-3b87-4a52-8498-b402a4ea4a84" class="wlWriterEditableSmartContent" style="float: none; margin: 0px; display: inline; padding: 0px;">
<pre style="width: 687px; height: 425px; background-color: white; overflow: auto;"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;"> 1</span> <span style="color: #0000ff;">&lt;?</span><span style="color: #ff00ff;">xml version="1.0" encoding="utf-8"</span><span style="color: #0000ff;">?&gt;</span><span style="color: #000000;">
</span><span style="color: #008080;"> 2</span> <span style="color: #0000ff;">&lt;</span><span style="color: #800000;">rsd </span><span style="color: #ff0000;">version</span><span style="color: #0000ff;">="1.0"</span><span style="color: #ff0000;"> xmlns:dc</span><span style="color: #0000ff;">="http://purl.org/dc/elements/1.1/"</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
</span><span style="color: #008080;"> 3</span> <span style="color: #000000;">  </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">service</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
</span><span style="color: #008080;"> 4</span> <span style="color: #000000;">    </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">engineName</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">MyGet</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">engineName</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
</span><span style="color: #008080;"> 5</span> <span style="color: #000000;">    </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">engineLink</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">http://www.myget.org</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">engineLink</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
</span><span style="color: #008080;"> 6</span> <span style="color: #000000;">
</span><span style="color: #008080;"> 7</span> <span style="color: #000000;">    </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">dc:identifier</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">http://www.myget.org/F/googleanalyticstracker</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">dc:identifier</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">    
</span><span style="color: #008080;"> 8</span> <span style="color: #000000;">    </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">dc:creator</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">maartenba</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">dc:creator</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">    
</span><span style="color: #008080;"> 9</span> <span style="color: #000000;">    </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">dc:owner</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">maartenba</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">dc:owner</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
</span><span style="color: #008080;">10</span> <span style="color: #000000;">    </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">dc:title</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">Staging feed for GoogleAnalyticsTracker</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">dc:title</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
</span><span style="color: #008080;">11</span> <span style="color: #000000;">    </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">dc:description</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">Staging feed for GoogleAnalyticsTracker</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">dc:description</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;"> 
</span><span style="color: #008080;">12</span> <span style="color: #000000;">    </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">homePageLink</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">http://www.myget.org/gallery/googleanalyticstracker</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">homePageLink</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
</span><span style="color: #008080;">13</span> <span style="color: #000000;">
</span><span style="color: #008080;">14</span> <span style="color: #000000;">    </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">apis</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
</span><span style="color: #008080;">15</span> <span style="color: #000000;">      </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">api </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="nuget-v2-packages"</span><span style="color: #ff0000;"> preferred</span><span style="color: #0000ff;">="true"</span><span style="color: #ff0000;"> apiLink</span><span style="color: #0000ff;">="http://www.myget.org/F/googleanalyticstracker/api/v2"</span><span style="color: #ff0000;"> blogID</span><span style="color: #0000ff;">=""</span><span style="color: #ff0000;"> </span><span style="color: #0000ff;">/&gt;</span><span style="color: #000000;">
</span><span style="color: #008080;">16</span> <span style="color: #000000;">      </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">api </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="nuget-v2-push"</span><span style="color: #ff0000;"> preferred</span><span style="color: #0000ff;">="true"</span><span style="color: #ff0000;"> apiLink</span><span style="color: #0000ff;">="http://www.myget.org/F/googleanalyticstracker/api/v2/package"</span><span style="color: #ff0000;"> blogID</span><span style="color: #0000ff;">=""</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
</span><span style="color: #008080;">17</span> <span style="color: #000000;">        </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">settings</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
</span><span style="color: #008080;">18</span> <span style="color: #000000;">          </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">setting </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="apiKey"</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">abcdefghijkl</span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">setting</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
</span><span style="color: #008080;">19</span> <span style="color: #000000;">        </span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">settings</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
</span><span style="color: #008080;">20</span> <span style="color: #000000;">      </span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">api</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
</span><span style="color: #008080;">21</span> <span style="color: #000000;">      </span><span style="color: #0000ff;">&lt;</span><span style="color: #800000;">api </span><span style="color: #ff0000;">name</span><span style="color: #0000ff;">="nuget-v1-packages"</span><span style="color: #ff0000;"> preferred</span><span style="color: #0000ff;">="false"</span><span style="color: #ff0000;"> apiLink</span><span style="color: #0000ff;">="http://www.myget.org/F/googleanalyticstracker/api/v1"</span><span style="color: #ff0000;"> blogID</span><span style="color: #0000ff;">=""</span><span style="color: #ff0000;"> </span><span style="color: #0000ff;">/&gt;</span><span style="color: #000000;">
</span><span style="color: #008080;">22</span> <span style="color: #000000;">    </span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">apis</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
</span><span style="color: #008080;">23</span> <span style="color: #000000;">  </span><span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">service</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
</span><span style="color: #008080;">24</span> <span style="color: #0000ff;">&lt;/</span><span style="color: #800000;">rsd</span><span style="color: #0000ff;">&gt;</span><span style="color: #000000;">
</span><span style="color: #008080;">25</span> </div></pre>
<!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>As you can see, using RSD we can embed a lot more information about a feed in this document. If we wanted to add a link to someone&rsquo;s GitHub and have a client that wants to use this, we can add another <em>&lt;api /&gt;</em> element in here.</p>
<h2>Who is using this?</h2>
<p>I am (<a href=""></a>), Xavier is (<a href="http://www.xavierdecoster.com">http://www.xavierdecoster.com</a>), Glimpse is (<a href="http://getglimpse.com">http://getglimpse.com</a>), NancyFX is (<a href="http://www.nancyfx.org/">http://www.nancyfx.org</a>) and <a href="http://blog.myget.org/post/2013/03/18/Support-for-Package-Source-Discovery-draft.aspx">MyGet has implemented several endpoints</a> as well. Why don't <em>you </em>join the wonderful world of package source discovery?</p>
<h2>Feedback needed!</h2>
<p>This is not part of NuGet out of the box yet. We need your feedback, comments, implementations and so on. Head over to our <a href="https://github.com/myget/PackageSourceDiscovery">GitHub</a> repository, read through the spec and all examples and provide us with your thoughts. <a href="https://github.com/myget/PackageSourceDiscovery/wiki">Try the two clients we&rsquo;ve crafted</a> (more <a href="http://www.xavierdecoster.com/introducing-a-nuget-exe-extension-for-package-source-discovery">on Xavier's blog</a>) and make your NuGet repositories discoverable. Feel free to post a link to your blog below.</p>
<p>Enjoy and let the commenting begin!</p>
{% include imported_disclaimer.html %}
